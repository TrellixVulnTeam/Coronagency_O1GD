{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/peter/GitHub/projet-2/21-06-remotefr-p2-coronagency/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"/Users/peter/GitHub/projet-2/21-06-remotefr-p2-coronagency/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/peter/GitHub/projet-2/21-06-remotefr-p2-coronagency/src/pages/Chartjs.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./Chartjs.css\";\nimport { Bar, Line } from \"react-chartjs-2\";\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Chartjs = function Chartjs() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      chartData = _useState2[0],\n      setChartData = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      decesGueris = _useState4[0],\n      setDecesGueris = _useState4[1];\n\n  var chart = function chart() {\n    var hospit = [];\n    var rea = [];\n    var code = [];\n    var deces = [];\n    var gueris = [];\n    axios.get(\"https://a.nacapi.com/covidcustom\").then(function (res) {\n      var _iterator = _createForOfIteratorHelper(res.data.allLiveFranceData),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var dataObj = _step.value;\n          hospit.push(parseInt(dataObj.hospitalises));\n          code.push(dataObj.nom);\n          deces.push(dataObj.deces);\n          rea.push(parseInt(dataObj.reanimation));\n          gueris.push(parseInt(dataObj.gueris));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      setChartData({\n        labels: code,\n        datasets: [{\n          type: \"bar\",\n          label: \"Nbre en réanimation\",\n          data: rea,\n          backgroundColor: \"#FF0000\",\n          borderColor: \"#FF0000\"\n        }, {\n          type: \"bar\",\n          label: \"Nbre hospitalisation\",\n          data: hospit,\n          backgroundColor: \"#18DBA8\",\n          borderColor: \"#18DBA8\"\n        }],\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top'\n            },\n            title: {\n              display: true,\n              text: \"Hopitalisation par région\"\n            }\n          },\n          interaction: {\n            intersect: false\n          },\n          scales: {\n            x: {\n              stacked: true\n            },\n            y: {\n              stacked: true\n            }\n          }\n        }\n      });\n      setDecesGueris({\n        labels: code,\n        datasets: [{\n          label: \"Nbre de décès\",\n          data: deces,\n          backgroundColor: \"#FF0000\",\n          borderColor: \"#FF0000\",\n          fill: true\n        }, {\n          label: \"Nbre de guéris\",\n          data: gueris,\n          backgroundColor: \"#18DBA8\",\n          borderColor: \"#18DBA8\",\n          fill: true\n        }],\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top'\n            },\n            title: {\n              display: true,\n              text: \"Guéris et Décès par région\"\n            }\n          }\n        }\n      });\n    });\n  };\n\n  useEffect(function () {\n    chart();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(Bar, {\n        data: chartData,\n        options: chartData.options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        data: decesGueris,\n        options: decesGueris.options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Chartjs, \"aX2DqD1SDxe1B8L9fwaz9Ev7jO4=\");\n\n_c = Chartjs;\nexport default Chartjs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chartjs\");","map":{"version":3,"sources":["/Users/peter/GitHub/projet-2/21-06-remotefr-p2-coronagency/src/pages/Chartjs.jsx"],"names":["React","Bar","Line","useState","useEffect","axios","Chartjs","chartData","setChartData","decesGueris","setDecesGueris","chart","hospit","rea","code","deces","gueris","get","then","res","data","allLiveFranceData","dataObj","push","parseInt","hospitalises","nom","reanimation","labels","datasets","type","label","backgroundColor","borderColor","options","responsive","plugins","legend","position","title","display","text","interaction","intersect","scales","x","stacked","y","fill"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Chartjs.css\";\nimport { Bar, Line } from \"react-chartjs-2\";\nimport { useState, useEffect} from 'react';\nimport axios from \"axios\";\n \nconst Chartjs = () => {\n    const [chartData, setChartData] = useState([]);\n    const [decesGueris, setDecesGueris] = useState([]);\n \n    const chart = () => {\n         let hospit = [];\n         let rea = [];\n         let code =[];\n         let deces = [];\n         let gueris = [];\n \n    axios\n      .get(\"https://a.nacapi.com/covidcustom\")\n      .then(res => {\n        for (const dataObj of res.data.allLiveFranceData) {\n          hospit.push(parseInt(dataObj.hospitalises));\n          code.push(dataObj.nom)\n          deces.push(dataObj.deces)\n          rea.push(parseInt(dataObj.reanimation))\n          gueris.push(parseInt(dataObj.gueris))\n        }\n\n        setChartData({\n          labels: code,\n          datasets: [\n            {\n              type: \"bar\",\n              label: \"Nbre en réanimation\",\n              data: rea,\n              backgroundColor: \"#FF0000\",\n              borderColor: \"#FF0000\",\n            },\n            {\n              type: \"bar\",\n              label: \"Nbre hospitalisation\",\n              data: hospit,\n              backgroundColor: \"#18DBA8\",\n              borderColor: \"#18DBA8\"\n            },\n          ],\n          options:{\n            responsive: true,\n            plugins: {\n              legend: {\n                position: 'top',\n              },\n              title: {\n                display: true,\n                text: \"Hopitalisation par région\"\n              }\n            },\n            interaction: {\n              intersect:false,\n            },\n            scales: {\n              x: {\n                stacked: true,\n              },\n              y: {\n                stacked:true,\n              },\n            },\n          }\n        });\n\n        setDecesGueris({\n          labels: code,\n          datasets: [\n            {\n              label: \"Nbre de décès\",\n              data: deces,\n              backgroundColor: \"#FF0000\",\n              borderColor: \"#FF0000\",\n              fill: true,\n            },\n\n            {\n              label: \"Nbre de guéris\",\n              data: gueris,\n              backgroundColor: \"#18DBA8\",\n              borderColor: \"#18DBA8\",\n              fill: true,\n            },\n            \n          ],\n          options:{\n            responsive: true,\n            plugins: {\n              legend: {\n                position: 'top',\n              },\n              title: {\n                display: true,\n                text: \"Guéris et Décès par région\"\n              }\n            }\n          }\n        });\n      })\n  };\n \n  useEffect(() => {\n    chart();\n    }, []);\n \n    return (\n        <div className=\"container\">\n \n            <div className=\"card\">\n            <Bar data ={chartData} options={chartData.options} />\n            </div>\n            <div className=\"card\">\n            <Line data ={decesGueris} options={decesGueris.options} />\n            </div>\n        </div>\n    )\n}\n \nexport default Chartjs"]},"metadata":{},"sourceType":"module"}